(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04960662"],{2693:function(e,t,n){},4711:function(e,t,n){"use strict";n("2693")},caae:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:6}},[n("el-tree",{staticClass:"tree-block",attrs:{"default-expand-all":"","highlight-current":"","expand-on-click-node":!1,"node-key":"uuid",data:e.treeList,props:{children:"children",label:"label"}},on:{"node-click":e.onTreeNodeSelect}})],1),e._v(" "),n("el-col",{attrs:{span:18}},[n("el-input",{staticStyle:{"margin-bottom":"10px",display:"inline-block",width:"300px"},attrs:{size:"mini",placeholder:"搜索关键词"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}}),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.gb28181ChannelShowPageList,fit:"",border:""}},[n("el-table-column",{attrs:{prop:"DeviceID",label:"通道编号",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{prop:"Name",label:"名称",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{prop:"Manufacturer",label:"厂商"}}),e._v(" "),n("el-table-column",{attrs:{prop:"Address",label:"地址"}}),e._v(" "),n("el-table-column",{attrs:{prop:"Status",label:"状态"}}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.onPlay(t.row)}}},[e._v("播放")])]}}])})],1),e._v(" "),n("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":e.currentPage,total:e.gb28181ChannelShowList.length},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"查看录像","show-close":!1,"before-close":e.onCloseRecordsDialog,visible:e.dialogVisible,width:"1500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible&&e.tempRecordSearch.id?[n("records",{attrs:{"record-search":e.tempRecordSearch}})]:e._e(),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.onCloseRecordsDialog}},[e._v("关 闭")])],1)],2)],1)},a=[],i=(n("8e6e"),n("456d"),n("bd86")),l=(n("ac6a"),n("2f62")),c=n("ed08"),o=n("d2cd");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"recordIndex",data:function(){return{dialogVisible:!1,searchKey:"",treeList:[],gb28181ChannelList:[],selectId:"",tempRecordSearch:{id:null,channel:null,deviceId:null},currentPage:1}},components:{Records:o["a"]},watch:{gb28181List:{handler:function(e){if(e&&e.length>0&&0===this.treeList.length){var t={uuid:Object(c["j"])(),label:"设置列表",id:"",children:e.map((function(e){return{uuid:Object(c["j"])(),id:e.id,label:e.label}}))};this.treeList=[t];var n=[];e.forEach((function(e){n=n.concat(e.children)})),this.gb28181ChannelList=n}},immediate:!0}},computed:d(d({},Object(l["b"])({gb28181List:function(e){return e.Gb28181List.map((function(e){var t={uuid:Object(c["j"])(),id:e.ID,label:e.ID,children:[]};return t.children=(e.Channels||[]).map((function(t,n){var r=d({uuid:Object(c["j"])(),id:e.ID,deviceId:t.DeviceID,channel:n,label:t.Name,isChannel:!0},t);return r})),t}))}})),{},{gb28181ChannelShowList:function(){var e=this;return this.gb28181ChannelList.filter((function(t){return(e.selectId&&t.id===e.selectId||""===e.selectId)&&(""===e.searchKey.trim()||t.Name&&-1!==t.Name.indexOf(e.searchKey))}))},gb28181ChannelShowPageList:function(){return this.gb28181ChannelShowList.slice(10*(this.currentPage-1),10*this.currentPage)}}),methods:{onTreeNodeSelect:function(e){this.selectId=e.id||"",this.searchKey=""},onPlay:function(e){this.tempRecordSearch.id=e.id,this.tempRecordSearch.channel=e.channel,this.tempRecordSearch.deviceId=e.deviceId,this.dialogVisible=!0},onCloseRecordsDialog:function(){this.dialogVisible=!1,this.tempRecordSearch.id=null,this.tempRecordSearch.channel=null,this.tempRecordSearch.deviceId=null}}},h=u,p=(n("4711"),n("2877")),b=Object(p["a"])(h,r,a,!1,null,"5223b91e",null);t["default"]=b.exports}}]);